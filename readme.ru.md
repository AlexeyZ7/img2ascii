# IMG2ASCII
Простой генератор ASCII-артов на PHP.
Версия 0.9

![image](https://sun9-50.userapi.com/c856032/v856032660/149b6e/Qhsmivjvjuc.jpg)
[Скриншот 1](https://sun9-21.userapi.com/c856032/v856032660/149b78/Ve4wctYXkK8.jpg)    [Скриншот 2](https://sun9-17.userapi.com/c856032/v856032660/149b8a/5LNoG-mqlHk.jpg)
__[English page documentation >>](readme.md)__

## Возможности img2ascii:
- Поддерживает большинство форматов изображений
- Гибкость настройки
- Мало кода
### Минусы:
- Работает только на PHP (пока что)
- Сырая версия, возможны баги

## Требования к установке:
- Установленный интерпретатор PHP
- Установленное и включенное расширение GD для PHP
- Базовые знания PHP
- Одна-две минуты времени

## Установка: _(linux)_
```bash
git clone https://github.com/AlexeyZ7/img2ascii
cd img2ascii/
```
Репозиторий содержит основную библиотеку *img2ascii.php*, от которой зависит консольное приложение
*i2asc*. Соответственно, держите консольную программу в одном каталоге с *img2ascii.php*. Если вы хотите использовать *img2ascii* в своем проекте, то *просто скопируйте img2ascii.php* в папку с вашим проектом:
```bash
$ cp img2ascii.php /home/kek/myproject/libraries/
```
а затем импортируйте:
```bash
include 'libraries/img2ascii.php';
```

## Использование:
Запуск из терминала:
```bash
$ php i2asc image=picture.png x=150 y=60
```
Вывод результата в файл:
```bash
$ php i2asc image=example.tif x=320 y=170 > art.txt
```
Как библиотека php:
```php
include '.../img2ascii.php';
$maker = new img2ascii;
// Загружаем картинку example.png через GD
$image = imagecreatefrompng('example.png');
// Задаем предпочитаемый размер (чит. док-цию)
$maker->reso_x = 150;
$maker->reso_y = 130;
// Генерируем
$art = $maker->draw($image);
// По желанию выводим на экран или записываем в файл
print($art);
file_put_contents('ascii-art.txt',$art);
```
## Подробная инструкция:
### Обязательные аргументы:

**image**
Путь к файлу картинки в файловой системе. Этот аргумент используется только в консольном приложении. При использовании библиотеки необходимо передать ресурс GD (см.выше)

**X** и **Y**
Это два числовых аргумента и они используются вместе. Они указывают разрешение текста.
(Символы по горизонтали \* Символы по вертикали). Этот аргумент не обязателен для работы, но **использовать его очень рекомендуется**. Если X и Y не заданы, то библиотека использует разрешение картинки в пикселях *(т.е. 1 символ/пиксель)*. В таком случае могут получаться огромные тексты, которые не умещаются в окно терминала . Обратите внимание, что высота символов больше, чем ширина, поэтому результат получается немного "вытянутым" вниз. Это легко решается уменьшением
и подбором оптимальной высоты "y".
#### Использование этих аргументов: см. раздел "Использование" выше.

###  Необязательные аргументы:
**inversion**
Инверсия меняет черный и белый цвета местами. По умолчанию выключено. Чтобы включить, достаточно задать любое значение, к примеру 1 или on.

**depth**
Достаточно сложный и важный аргумент. Представляет из себя строку из символов, которые будут использоваться при рисовании ASCII-арта. Все символы расположены в порядке от самого "чёрного" (т.е. пробел) до самого "светлого". *(при использовании чёрного фона)*
Добавляя символы, можно увеличить кол-во оттенков ASCII-арта. **Параметр "depth" сильно влияет на глубину и детализацию изображения**, *поэтому в некоторых случаях его полезно использовать*.
По умолчанию параметр "depth" вмещает 17 символов (   .,'\"-=~+/I#@RW)

**contrast**
Задает контраст картинки. (GD)

**brightness**
Задает яркость картинки. (GD)

**newline**
Задает символ конца строки (переноса). В 99% случаев эту настройку можно не изменять, но если вам потребуется ... По умолчанию: **\n**
### Использование этих аргументов:
```bash
 $ php i2asc image=example.jpg inversion=yes contrast=123 brightness=200 newline="\\n" depth=" .,+#"
 ```
 ```php
 $maker = new img2ascii;
 $maker->inversion = true;
 $maker->contrast  = 123;
 $maker->brightness = 200;
 $maker->newline = "\r\n";
 $maker->depth = " .,+#";
 ```

## Проблемы:
- Соблюдайте синтаксис аргументов в консоли. Неправильный синтаксис может
вызвать ошибку программы.
- Библиотека может некорректно распознавать прозрачные пиксели. В некоторых
случаях помогает инверсия (см. раздел "Необязательные аргументы")

##  Что планируется добавить:
- Автоматическое решение проблемы "вытянутости"
- Аргументы console и out
- Поддержка прозрачности
- Полноценная установка в систему
- Поддержка цветных символов (?)
- Оптимальное значение depth
 
 **Email автора:** alekseig399@gmail.com

